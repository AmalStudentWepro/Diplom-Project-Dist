import{a as l,s as n}from"./index-DVUMKYbu.js";import{r as u}from"./helpers-9Lo3EvBV.js";const c=document.querySelector("#signup");c&&(c.onclick=t=>{t.preventDefault(),u("/src/pages/signup/index.html")});const s=document.querySelector(".auth-form");s&&(s.onsubmit=async function(t){t.preventDefault();const o=new FormData(s),r=o.get("email").trim(),a=o.get("password").trim();if(!r||!a){alert("Введите e-mail и пароль");return}const i={email:r,password:a,strategy:"local"};try{const e=await l.post("https://blog-n7ue.onrender.com/authentication",i);n("accessToken",e.data.accessToken,1),n("userName",e.data.user.fullName,1),window.location.href="/"}catch(e){if(console.error("Ошибка при входе:",e),e.response){const m=e.response.data.message||"Неизвестная ошибка";alert("Ошибка входа: "+m)}else alert("Ошибка соединения с сервером: "+e.message)}});
